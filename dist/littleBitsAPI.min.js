(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){window.littleBitsAPI=require("../lib/index")},{"../lib/index":3}],2:[function(require,module,exports){exports.opt_to_pp=opt_to_pp;var table=exports.table={"/devices":{get:{fname:"devices"}},"/devices/{device_id}":{get:{fname:"device"},"delete":{fname:"deactivate"},post:{fname:"activate"},put:{fname:"device_update"}},"/devices/{device_id}/output":{post:{fname:"output"}},"/devices/{device_id}/light":{post:{fname:"light"}},"/subscriptions":{post:{fname:"subscribe"},"delete":{fname:"unsubscribe"},get:{fname:"subscriptions"}}};function opt_to_pp(path,method,pp_name,opts){method=method.toLowerCase();var cust=table[path]&&table[path][method]&&table[path][method][pp_name]||{};var name_used=opts[cust.rename]?cust.rename:pp_name;return opts[name_used]?cust.trans?cust.trans(opts[name_used],name_used):opts[name_used]:null}},{}],3:[function(require,module,exports){var merge=require("merge");var make_method=require("./make-method");var routes=require("./routes");var rutils=require("./route-utils");var root_defaults={host:"https://api-http.littlebitscloud.cc",version:"2"};module.exports=API(root_defaults);function API(base_defaults){var api=routes.reduce(function(acc,route){var name=rutils.calc_fname(route);if(name){acc[name]=make_method(base_defaults,rutils.functionify(route))}return acc},{});api.defaults=function defaults(new_defaults){if(arguments.length===0)return base_defaults;return API(merge({},base_defaults,new_defaults))};return api}module.exports._process_signature=require("./method-process-signature")},{"./make-method":4,"./method-process-signature":5,"./route-utils":6,"./routes":7,merge:21}],4:[function(require,module,exports){var process_signature=require("./method-process-signature");var merge=require("merge");module.exports=make_method;function make_method(base_defaults,f){function todo_name_me(){var args=process_signature(arguments);var opts=merge({},base_defaults,args.overrides);return f.apply(null,[opts,args.cb])}todo_name_me.defaults=function(base_defaults_method){if(arguments.length===0)return base_defaults;return make_method(merge({},base_defaults,base_defaults_method),f)};return todo_name_me}},{"./method-process-signature":5,merge:21}],5:[function(require,module,exports){var snakeify=require("to-snake-case");var transform=require("lodash.transform");var merge=require("merge");var default_cb=console&&console.log&&console.log.bind(console)||function noop(){};module.exports=process_signature;function process_signature(args){var args_={};if(typeof args[0]==="function"){args_.overrides={};args_.cb=args[0]}else if(typeof args[0]==="string"){var overrides=typeof args[1]==="object"?args[1]:null;args_.overrides=merge({device_id:args[0]},normalize_key_case(overrides||{}));args_.cb=overrides?args[2]||default_cb:args[1]||default_cb}else{args_.overrides=normalize_key_case(args[0]||{});args_.cb=args[1]||default_cb}return args_}function normalize_key_case(options){return transform(options,do_snakeify,{});function do_snakeify(o,v,k){o[snakeify(k)]=v}}},{"lodash.transform":8,merge:21,"to-snake-case":25}],6:[function(require,module,exports){var cust=require("./customizations");var sa=require("superagent");exports.calc_fname=route_calc_fname;exports.path_interpolate=route_path_interpolate;exports.functionify=route_functionify;function route_functionify(route){return function(opts,cb){var uri=route_join(opts.host,route_path_interpolate(route,[opts.device_id]));var r=sa(route.method,uri);if(route.auth&&opts.access_token)r.set("Authorization","Bearer "+opts.access_token);r.set("Accept","application/vnd.littlebits.v"+opts.version+"+json");if(opts.payload)r.set(opts.payload);var add_params=param_adder(route.path,route.method,r,opts);if(route.payloadParams.children){route.payloadParams.children.forEach(add_params)}if(route.queryParams.children){route.queryParams.children.forEach(add_params)}r.end(function(err,response){if(err)return cb(err);if(response.error)return cb(extract_err(response));cb(null,response.body)})}}function route_path_interpolate(route,path_args){return path_args.reduce(function(path,arg){return path.replace(/{[^}]*}/,arg)},route.path)}function route_calc_fname(route){var custom_name=cust.table[route.path]&&cust.table[route.path][route.method.toLowerCase()]&&cust.table[route.path][route.method.toLowerCase()].fname;return custom_name?custom_name:null}function param_adder(path,method,request,request_opts){return function(param){var value=cust.opt_to_pp(path,method,param.name,request_opts);if(value){var o={};o[param.name]=value;request[method==="GET"?"query":"send"](o)}}}function route_join(){var path=[];for(var i=0;i<arguments.length;i++){path.push(arguments[i].replace(/^\//,"").replace(/\/$/,""))}return path.join("/")}function extract_err(res){var err=res.error;if(res.body&&res.body.message)err.message=res.body.message;return err}},{"./customizations":2,superagent:22}],7:[function(require,module,exports){module.exports=[{path:"/ping",method:"GET",auth:false,pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:null},{path:"/devices",method:"GET",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"GET",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"device_hash",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"update",type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"label",type:"string",required:true,allowedValues:null,disallowedValues:null}]}]},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"PUT",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"update",type:"object",required:true,allowedValues:null,disallowedValues:null,children:[{name:"label",type:"string",required:null,allowedValues:null,disallowedValues:null}]}]},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"DELETE",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/devices/{device_id}/light",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"mode",type:"string",required:false,allowedValues:["blink","hold"],disallowedValues:null},{name:"color",type:"string",required:false,allowedValues:["green","yellow","red","blue","purple","white","cyan","clownbarf"],disallowedValues:null},{name:"duration_ms",type:"number",required:null,allowedValues:null,disallowedValues:null}]},responseParams:null,version:"2"},{path:"/devices/{device_id}/output",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"percent",type:"number",required:null,allowedValues:null,disallowedValues:null},{name:"duration_ms",type:"number",required:null,allowedValues:null,disallowedValues:null}]},responseParams:null,version:"2"},{path:"/subscriptions",method:"GET",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"publisher_id",type:"string",required:null,allowedValues:null,disallowedValues:null},{name:"subscriber_id",type:"string",required:null,allowedValues:null,disallowedValues:null}]},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/subscriptions",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"subscriber_id",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"publisher_id",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"publisher_events",type:"array",required:null,allowedValues:null,disallowedValues:null,rules:{Includes:[{type:"any",required:false,allowedValues:["amplitude","amplitude:delta:sustain","amplitude:delta:ignite","amplitude:delta:release","amplitude:delta:nap","amplitude:level:active","amplitude:level:idle"],disallowedValues:null}]}}]},responseParams:null,version:"2"},{path:"/subscriptions",method:"DELETE",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"publisher_id",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"subscriber_id",type:"string",required:true,allowedValues:null,disallowedValues:null}]},responseParams:null,version:"2"}];module.exports=[{path:"/ping",method:"GET",auth:false,pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:null},{path:"/devices",method:"GET",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"GET",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"device_hash",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"update",type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"label",type:"string",required:true,allowedValues:null,disallowedValues:null}]}]},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"PUT",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"update",type:"object",required:true,allowedValues:null,disallowedValues:null,children:[{name:"label",type:"string",required:null,allowedValues:null,disallowedValues:null}]}]},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"DELETE",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/devices/{device_id}/light",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"mode",type:"string",required:false,allowedValues:["blink","hold"],disallowedValues:null},{name:"color",type:"string",required:false,allowedValues:["green","yellow","red","blue","purple","white","cyan","clownbarf"],disallowedValues:null},{name:"duration_ms",type:"number",required:null,allowedValues:null,disallowedValues:null}]},responseParams:null,version:"2"},{path:"/devices/{device_id}/output",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"percent",type:"number",required:null,allowedValues:null,disallowedValues:null},{name:"duration_ms",type:"number",required:null,allowedValues:null,disallowedValues:null}]},responseParams:null,version:"2"},{path:"/subscriptions",method:"GET",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"publisher_id",type:"string",required:null,allowedValues:null,disallowedValues:null},{name:"subscriber_id",type:"string",required:null,allowedValues:null,disallowedValues:null}]},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/subscriptions",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"subscriber_id",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"publisher_id",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"publisher_events",type:"array",required:null,allowedValues:null,disallowedValues:null,rules:{Includes:[{type:"any",required:false,allowedValues:["amplitude","amplitude:delta:sustain","amplitude:delta:ignite","amplitude:delta:release","amplitude:delta:nap","amplitude:level:active","amplitude:level:idle"],disallowedValues:null}]}}]},responseParams:null,version:"2"},{path:"/subscriptions",method:"DELETE",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"publisher_id",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"subscriber_id",type:"string",required:true,allowedValues:null,disallowedValues:null}]},responseParams:null,version:"2"}];module.exports=[{path:"/ping",method:"GET",auth:false,pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:null},{path:"/devices",method:"GET",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"GET",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"device_hash",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"update",type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"label",type:"string",required:true,allowedValues:null,disallowedValues:null}]}]},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"PUT",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"update",type:"object",required:true,allowedValues:null,disallowedValues:null,children:[{name:"label",type:"string",required:null,allowedValues:null,disallowedValues:null}]}]},responseParams:null,version:"2"},{path:"/devices/{device_id}",method:"DELETE",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/devices/{device_id}/light",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"mode",type:"string",required:false,allowedValues:["blink","hold"],disallowedValues:null},{name:"color",type:"string",required:false,allowedValues:["green","yellow","red","blue","purple","white","cyan","clownbarf"],disallowedValues:null},{name:"duration_ms",type:"number",required:null,allowedValues:null,disallowedValues:null}]},responseParams:null,version:"2"},{path:"/devices/{device_id}/output",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"percent",type:"number",required:null,allowedValues:null,disallowedValues:null},{name:"duration_ms",type:"number",required:null,allowedValues:null,disallowedValues:null}]},responseParams:null,version:"2"},{path:"/subscriptions",method:"GET",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"publisher_id",type:"string",required:null,allowedValues:null,disallowedValues:null},{name:"subscriber_id",type:"string",required:null,allowedValues:null,disallowedValues:null}]},payloadParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},responseParams:null,version:"2"},{path:"/subscriptions",method:"POST",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"subscriber_id",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"publisher_id",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"publisher_events",type:"array",required:null,allowedValues:null,disallowedValues:null,rules:{Includes:[{type:"any",required:false,allowedValues:["amplitude","amplitude:delta:sustain","amplitude:delta:ignite","amplitude:delta:release","amplitude:delta:nap","amplitude:level:active","amplitude:level:idle"],disallowedValues:null}]}}]},responseParams:null,version:"2"},{path:"/subscriptions",method:"DELETE",auth:["bearer"],pathParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},queryParams:{type:"any",required:false,allowedValues:null,disallowedValues:null},payloadParams:{type:"object",required:null,allowedValues:null,disallowedValues:null,children:[{name:"publisher_id",type:"string",required:true,allowedValues:null,disallowedValues:null},{name:"subscriber_id",type:"string",required:true,allowedValues:null,disallowedValues:null}]},responseParams:null,version:"2"}]},{}],8:[function(require,module,exports){var arrayEach=require("lodash._arrayeach"),baseCallback=require("lodash._basecallback"),baseCreate=require("lodash._basecreate"),baseFor=require("lodash._basefor"),isArray=require("lodash.isarray"),isFunction=require("lodash.isfunction"),isTypedArray=require("lodash.istypedarray"),keys=require("lodash.keys");function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function isObject(value){var type=typeof value;return type=="function"||value&&type=="object"||false}function transform(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);iteratee=baseCallback(iteratee,thisArg,4);if(accumulator==null){if(isArr||isObject(object)){var Ctor=object.constructor;if(isArr){accumulator=isArray(object)?new Ctor:[]}else{accumulator=baseCreate(isFunction(Ctor)&&Ctor.prototype)}}else{accumulator={}}}(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}module.exports=transform},{"lodash._arrayeach":9,"lodash._basecallback":10,"lodash._basecreate":13,"lodash._basefor":14,"lodash.isarray":15,"lodash.isfunction":16,"lodash.istypedarray":17,"lodash.keys":18}],9:[function(require,module,exports){function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}module.exports=arrayEach},{}],10:[function(require,module,exports){var baseIsEqual=require("lodash._baseisequal"),bindCallback=require("lodash._bindcallback"),keys=require("lodash.keys");var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseCallback(func,thisArg,argCount){var type=typeof func;if(type=="function"){return typeof thisArg!="undefined"?bindCallback(func,thisArg,argCount):func}if(func==null){return identity}if(type=="object"){return baseMatches(func)}return typeof thisArg=="undefined"?baseProperty(func+""):baseMatchesProperty(func+"",thisArg)}function baseIsMatch(object,props,values,strictCompareFlags,customizer){var length=props.length;if(object==null){return!length}var index=-1,noCustomizer=!customizer;while(++index<length){if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!hasOwnProperty.call(object,props[index])){return false}}index=-1;while(++index<length){var key=props[index];if(noCustomizer&&strictCompareFlags[index]){var result=hasOwnProperty.call(object,key)}else{var objValue=object[key],srcValue=values[index];result=customizer?customizer(objValue,srcValue,key):undefined;if(typeof result=="undefined"){result=baseIsEqual(srcValue,objValue,customizer,true)}}if(!result){return false}}return true}function baseMatches(source){var props=keys(source),length=props.length;if(length==1){var key=props[0],value=source[key];if(isStrictComparable(value)){return function(object){return object!=null&&value===object[key]&&hasOwnProperty.call(object,key)}}}var values=Array(length),strictCompareFlags=Array(length);while(length--){value=source[props[length]];values[length]=value;strictCompareFlags[length]=isStrictComparable(value)}return function(object){return baseIsMatch(object,props,values,strictCompareFlags)}}function baseMatchesProperty(key,value){if(isStrictComparable(value)){return function(object){return object!=null&&object[key]===value}}return function(object){return object!=null&&baseIsEqual(value,object[key],null,true)}}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function isStrictComparable(value){return value===value&&(value===0?1/value>0:!isObject(value))}function isObject(value){var type=typeof value;return type=="function"||value&&type=="object"||false}function identity(value){return value}module.exports=baseCallback},{"lodash._baseisequal":11,"lodash._bindcallback":12,"lodash.keys":18}],11:[function(require,module,exports){var isArray=require("lodash.isarray"),isTypedArray=require("lodash.istypedarray"),keys=require("lodash.keys");var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",stringTag="[object String]";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;function baseIsEqual(value,other,customizer,isWhere,stackA,stackB){if(value===other){return value!==0||1/value==1/other}var valType=typeof value,othType=typeof other;if(valType!="function"&&valType!="object"&&othType!="function"&&othType!="object"||value==null||other==null){return value!==value&&other!==other}return baseIsEqualDeep(value,other,baseIsEqual,customizer,isWhere,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isWhere,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=objToString.call(object);if(objTag==argsTag){objTag=objectTag}else if(objTag!=objectTag){objIsArr=isTypedArray(object)}}if(!othIsArr){othTag=objToString.call(other);if(othTag==argsTag){othTag=objectTag}else if(othTag!=objectTag){othIsArr=isTypedArray(other)}}var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!(objIsArr||objIsObj)){return equalByTag(object,other,objTag)}var valWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(valWrapped||othWrapped){return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isWhere,stackA,stackB)}if(!isSameTag){return false}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==object){return stackB[length]==other}}stackA.push(object);stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isWhere,stackA,stackB);stackA.pop();stackB.pop();return result}function equalArrays(array,other,equalFunc,customizer,isWhere,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=true;if(arrLength!=othLength&&!(isWhere&&othLength>arrLength)){return false}while(result&&++index<arrLength){var arrValue=array[index],othValue=other[index];result=undefined;if(customizer){result=isWhere?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)}if(typeof result=="undefined"){if(isWhere){var othIndex=othLength;while(othIndex--){othValue=other[othIndex];result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isWhere,stackA,stackB);if(result){break}}}else{result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isWhere,stackA,stackB)}}}return!!result}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==0?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+""}return false}function equalObjects(object,other,equalFunc,customizer,isWhere,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isWhere){return false}var hasCtor,index=-1;while(++index<objLength){var key=objProps[index],result=hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined;if(customizer){result=isWhere?customizer(othValue,objValue,key):customizer(objValue,othValue,key)}if(typeof result=="undefined"){result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isWhere,stackA,stackB)}}if(!result){return false}hasCtor||(hasCtor=key=="constructor")}if(!hasCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){return false}}return true}module.exports=baseIsEqual},{"lodash.isarray":15,"lodash.istypedarray":17,"lodash.keys":18}],12:[function(require,module,exports){function bindCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(typeof thisArg=="undefined"){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function identity(value){return value}module.exports=bindCallback},{}],13:[function(require,module,exports){(function(global){var baseCreate=function(){function Object(){}return function(prototype){if(isObject(prototype)){Object.prototype=prototype;var result=new Object;Object.prototype=null}return result||global.Object()}}();function isObject(value){var type=typeof value;return type=="function"||value&&type=="object"||false}module.exports=baseCreate}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],14:[function(require,module,exports){function baseFor(object,iteratee,keysFunc){var index=-1,iterable=toObject(object),props=keysFunc(object),length=props.length;while(++index<length){var key=props[index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}function toObject(value){return isObject(value)?value:Object(value)}function isObject(value){var type=typeof value;
return type=="function"||value&&type=="object"||false}module.exports=baseFor},{}],15:[function(require,module,exports){var arrayTag="[object Array]",funcTag="[object Function]";var reHostCtor=/^\[object .+?Constructor\]$/;var reRegExpChars=/[.*+?^${}()|[\]\/\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source);function baseToString(value){if(typeof value=="string"){return value}return value==null?"":value+""}function isObjectLike(value){return value&&typeof value=="object"||false}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var objToString=objectProto.toString;var reNative=RegExp("^"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray;var MAX_SAFE_INTEGER=Math.pow(2,53)-1;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag||false};function isNative(value){if(value==null){return false}if(objToString.call(value)==funcTag){return reNative.test(fnToString.call(value))}return isObjectLike(value)&&reHostCtor.test(value)||false}function escapeRegExp(string){string=baseToString(string);return string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\$&"):string}module.exports=isArray},{}],16:[function(require,module,exports){(function(global){var funcTag="[object Function]";var reHostCtor=/^\[object .+?Constructor\]$/;var reRegExpChars=/[.*+?^${}()|[\]\/\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source);function baseToString(value){if(typeof value=="string"){return value}return value==null?"":value+""}function isObjectLike(value){return value&&typeof value=="object"||false}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var objToString=objectProto.toString;var reNative=RegExp("^"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Uint8Array=isNative(Uint8Array=global.Uint8Array)&&Uint8Array;function isFunction(value){return typeof value=="function"||false}if(isFunction(/x/)||Uint8Array&&!isFunction(Uint8Array)){isFunction=function(value){return objToString.call(value)==funcTag}}function isNative(value){if(value==null){return false}if(objToString.call(value)==funcTag){return reNative.test(fnToString.call(value))}return isObjectLike(value)&&reHostCtor.test(value)||false}function escapeRegExp(string){string=baseToString(string);return string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\$&"):string}module.exports=isFunction}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],17:[function(require,module,exports){var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function isObjectLike(value){return value&&typeof value=="object"||false}var objectProto=Object.prototype;var objToString=objectProto.toString;var MAX_SAFE_INTEGER=Math.pow(2,53)-1;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&typedArrayTags[objToString.call(value)]||false}module.exports=isTypedArray},{}],18:[function(require,module,exports){var isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray"),isNative=require("lodash.isnative");var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys;var MAX_SAFE_INTEGER=Math.pow(2,53)-1;var support={};(function(x){try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=true}})(0,0);function isIndex(value,length){value=+value;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];if(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key)){result.push(key)}}return result}function isObject(value){var type=typeof value;return type=="function"||value&&type=="object"||false}var keys=!nativeKeys?shimKeys:function(object){if(object){var Ctor=object.constructor,length=object.length}if(typeof Ctor=="function"&&Ctor.prototype===object||typeof object!="function"&&(length&&isLength(length))){return shimKeys(object)}return isObject(object)?nativeKeys(object):[]};function keysIn(object){if(object==null){return[]}if(!isObject(object)){object=Object(object)}var length=object.length;length=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=index+""}for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=keys},{"lodash.isarguments":19,"lodash.isarray":15,"lodash.isnative":20}],19:[function(require,module,exports){var argsTag="[object Arguments]";function isObjectLike(value){return value&&typeof value=="object"||false}var objectProto=Object.prototype;var objToString=objectProto.toString;var MAX_SAFE_INTEGER=Math.pow(2,53)-1;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArguments(value){var length=isObjectLike(value)?value.length:undefined;return isLength(length)&&objToString.call(value)==argsTag||false}module.exports=isArguments},{}],20:[function(require,module,exports){var funcTag="[object Function]";var reHostCtor=/^\[object .+?Constructor\]$/;var reRegExpChars=/[.*+?^${}()|[\]\/\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source);function baseToString(value){if(typeof value=="string"){return value}return value==null?"":value+""}function isObjectLike(value){return value&&typeof value=="object"||false}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var objToString=objectProto.toString;var reNative=RegExp("^"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function isNative(value){if(value==null){return false}if(objToString.call(value)==funcTag){return reNative.test(fnToString.call(value))}return isObjectLike(value)&&reHostCtor.test(value)||false}function escapeRegExp(string){string=baseToString(string);return string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\$&"):string}module.exports=isNative},{}],21:[function(require,module,exports){(function(isNode){var Public=function(clone){return merge(clone===true,false,arguments)},publicName="merge";Public.recursive=function(clone){return merge(clone===true,true,arguments)};Public.clone=function(input){var output=input,type=typeOf(input),index,size;if(type==="array"){output=[];size=input.length;for(index=0;index<size;++index)output[index]=Public.clone(input[index])}else if(type==="object"){output={};for(index in input)output[index]=Public.clone(input[index])}return output};function merge_recursive(base,extend){if(typeOf(base)!=="object")return extend;for(var key in extend){if(typeOf(base[key])==="object"&&typeOf(extend[key])==="object"){base[key]=merge_recursive(base[key],extend[key])}else{base[key]=extend[key]}}return base}function merge(clone,recursive,argv){var result=argv[0],size=argv.length;if(clone||typeOf(result)!=="object")result={};for(var index=0;index<size;++index){var item=argv[index],type=typeOf(item);if(type!=="object")continue;for(var key in item){var sitem=clone?Public.clone(item[key]):item[key];if(recursive){result[key]=merge_recursive(result[key],sitem)}else{result[key]=sitem}}}return result}function typeOf(input){return{}.toString.call(input).slice(8,-1).toLowerCase()}if(isNode){module.exports=Public}else{window[publicName]=Public}})(typeof module==="object"&&module&&typeof module.exports==="object"&&module.exports)},{}],22:[function(require,module,exports){var Emitter=require("emitter");var reduce=require("reduce");var root="undefined"==typeof window?this:window;function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return true;default:return false}}function getXHR(){if(root.XMLHttpRequest&&("file:"!=root.location.protocol||!root.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}return false}var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};function isObject(obj){return obj===Object(obj)}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj){if(null!=obj[key]){pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(obj[key]))}}return pairs.join("&")}request.serializeObject=serialize;function parseString(str){var obj={};var pairs=str.split("&");var parts;var pair;for(var i=0,len=pairs.length;i<len;++i){pair=pairs[i];parts=pair.split("=");obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1])}return obj}request.parseString=parseString;request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify};request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse};function parseHeader(str){var lines=str.split(/\r?\n/);var fields={};var index;var line;var field;var val;lines.pop();for(var i=0,len=lines.length;i<len;++i){line=lines[i];index=line.indexOf(":");field=line.slice(0,index).toLowerCase();val=trim(line.slice(index+1));fields[field]=val}return fields}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();if(key&&val)obj[key]=val;return obj},{})}function Response(req,options){options=options||{};this.req=req;this.xhr=this.req.xhr;this.text=this.xhr.responseText;this.setStatusProperties(this.xhr.status);this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body=this.req.method!="HEAD"?this.parseBody(this.text):null}Response.prototype.get=function(field){return this.header[field.toLowerCase()]};Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]};Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return parse?parse(str):null};Response.prototype.setStatusProperties=function(status){var type=status/100|0;this.status=status;this.statusType=type;this.info=1==type;this.ok=2==type;this.clientError=4==type;this.serverError=5==type;this.error=4==type||5==type?this.toError():false;this.accepted=202==status;this.noContent=204==status||1223==status;this.badRequest=400==status;this.unauthorized=401==status;this.notAcceptable=406==status;this.notFound=404==status;this.forbidden=403==status};Response.prototype.toError=function(){var req=this.req;var method=req.method;var path=req.path;var msg="cannot "+method+" "+path+" ("+this.status+")";var err=new Error(msg);err.status=this.status;err.method=method;err.path=path;return err};request.Response=Response;function Request(method,url){var self=this;Emitter.call(this);this._query=this._query||[];this.method=method;this.url=url;this.header={};this._header={};this.on("end",function(){var res=new Response(self);if("HEAD"==method)res.text=null;self.callback(null,res)})}Emitter(Request.prototype);Request.prototype.use=function(fn){fn(this);return this};Request.prototype.timeout=function(ms){this._timeout=ms;return this};Request.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};Request.prototype.abort=function(){if(this.aborted)return;this.aborted=true;this.xhr.abort();this.clearTimeout();this.emit("abort");return this};Request.prototype.set=function(field,val){if(isObject(field)){for(var key in field){this.set(key,field[key])}return this}this._header[field.toLowerCase()]=val;this.header[field]=val;return this};Request.prototype.getHeader=function(field){return this._header[field.toLowerCase()]};Request.prototype.type=function(type){this.set("Content-Type",request.types[type]||type);return this};Request.prototype.accept=function(type){this.set("Accept",request.types[type]||type);return this};Request.prototype.auth=function(user,pass){var str=btoa(user+":"+pass);this.set("Authorization","Basic "+str);return this};Request.prototype.query=function(val){if("string"!=typeof val)val=serialize(val);if(val)this._query.push(val);return this};Request.prototype.send=function(data){var obj=isObject(data);var type=this.getHeader("Content-Type");if(obj&&isObject(this._data)){for(var key in data){this._data[key]=data[key]}}else if("string"==typeof data){if(!type)this.type("form");type=this.getHeader("Content-Type");if("application/x-www-form-urlencoded"==type){this._data=this._data?this._data+"&"+data:data}else{this._data=(this._data||"")+data}}else{this._data=data}if(!obj)return this;if(!type)this.type("json");return this};Request.prototype.callback=function(err,res){var fn=this._callback;if(2==fn.length)return fn(err,res);if(err)return this.emit("error",err);fn(res)};Request.prototype.crossDomainError=function(){var err=new Error("Origin is not allowed by Access-Control-Allow-Origin");err.crossDomain=true;this.callback(err)};Request.prototype.timeoutError=function(){var timeout=this._timeout;var err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout;this.callback(err)};Request.prototype.withCredentials=function(){this._withCredentials=true;return this};Request.prototype.end=function(fn){var self=this;var xhr=this.xhr=getXHR();var query=this._query.join("&");var timeout=this._timeout;var data=this._data;this._callback=fn||noop;xhr.onreadystatechange=function(){if(4!=xhr.readyState)return;if(0==xhr.status){if(self.aborted)return self.timeoutError();return self.crossDomainError()}self.emit("end")};if(xhr.upload){xhr.upload.onprogress=function(e){e.percent=e.loaded/e.total*100;self.emit("progress",e)}}if(timeout&&!this._timer){this._timer=setTimeout(function(){self.abort()},timeout)}if(query){query=request.serializeObject(query);this.url+=~this.url.indexOf("?")?"&"+query:"?"+query}xhr.open(this.method,this.url,true);if(this._withCredentials)xhr.withCredentials=true;if("GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var serialize=request.serialize[this.getHeader("Content-Type")];if(serialize)data=serialize(data)}for(var field in this.header){if(null==this.header[field])continue;xhr.setRequestHeader(field,this.header[field])}this.emit("request",this);xhr.send(data);return this};request.Request=Request;function request(method,url){if("function"==typeof url){return new Request("GET",method).end(url)}if(1==arguments.length){return new Request("GET",method)}return new Request(method,url)}request.get=function(url,data,fn){var req=request("GET",url);if("function"==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req};request.head=function(url,data,fn){var req=request("HEAD",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.del=function(url,fn){var req=request("DELETE",url);if(fn)req.end(fn);return req};request.patch=function(url,data,fn){var req=request("PATCH",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.post=function(url,data,fn){var req=request("POST",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.put=function(url,data,fn){var req=request("PUT",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};module.exports=request},{emitter:23,reduce:24}],23:[function(require,module,exports){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks[event]=this._callbacks[event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){var self=this;this._callbacks=this._callbacks||{};function on(){self.off(event,on);fn.apply(this,arguments)}fn._off=on;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks[event];return this}var i=callbacks.indexOf(fn._off||fn);if(~i)callbacks.splice(i,1);return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks[event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],24:[function(require,module,exports){module.exports=function(arr,fn,initial){var idx=0;var len=arr.length;var curr=arguments.length==3?initial:arr[idx++];while(idx<len){curr=fn.call(null,curr,arr[idx],++idx,arr)}return curr}},{}],25:[function(require,module,exports){var toSpace=require("to-space-case");module.exports=toSnakeCase;function toSnakeCase(string){return toSpace(string).replace(/\s/g,"_")}},{"to-space-case":26}],26:[function(require,module,exports){var clean=require("to-no-case");module.exports=toSpaceCase;function toSpaceCase(string){return clean(string).replace(/[\W_]+(.|$)/g,function(matches,match){return match?" "+match:""})}},{"to-no-case":27}],27:[function(require,module,exports){module.exports=toNoCase;var hasSpace=/\s/;var hasCamel=/[a-z][A-Z]/;var hasSeparator=/[\W_]/;function toNoCase(string){if(hasSpace.test(string))return string.toLowerCase();if(hasSeparator.test(string))string=unseparate(string);if(hasCamel.test(string))string=uncamelize(string);return string.toLowerCase()}var separatorSplitter=/[\W_]+(.|$)/g;function unseparate(string){return string.replace(separatorSplitter,function(m,next){return next?" "+next:""})}var camelSplitter=/(.)([A-Z]+)/g;function uncamelize(string){return string.replace(camelSplitter,function(m,previous,uppers){return previous+" "+uppers.toLowerCase().split("").join(" ")})}},{}]},{},[1]);